#!/bin/bash
echo ""
bin/gn gen out/ios-sim-debug --args='target_os="ios" target_cpu="x64" ios_min_target = "13.0"' --ide=xcode
echo ""
echo "Build cmd:"
echo "ninja -C out/ios-sim-debug HelloWorld"
echo "ninja -C out/ios-sim-debug HelloWorldApp"
echo "ninja -C out/ios-sim-debug SkottieViewerApp"
echo "ninja -C out/ios-sim-debug viewer"
echo ""
echo "Launch iOS Simulator:"
echo "open -a Simulator.app"
echo ""
echo "ios-sim showdevicetypes"
echo "ios-sim showsdks"
echo ""
echo "Convert Binary PList to XML"
echo "plutil -convert binary1 out/ios-sim-debug/HelloWorld.app/info.plist"
echo "plutil -convert binary1 out/ios-sim-debug/HelloWorldApp.app/info.plist"
echo "plutil -convert binary1 out/ios-sim-debug/SkottieViewerApp.app/info.plist"
echo "plutil -convert binary1 out/ios-sim-debug/viewer.app/info.plist"
echo ""
echo "Deploy to device:"
echo "ios-sim launch -d iPad-mini-6th-generation out/ios-sim-debug/HelloWorld.app"
echo "ios-sim launch -d iPad-mini-6th-generation out/ios-sim-debug/HelloWorldApp.app"
echo "ios-sim launch -d iPad-mini-6th-generation out/ios-sim-debug/SkottieViewerApp.app"
echo "ios-sim launch -d iPad-mini-6th-generation out/ios-sim-debug/viewer.app"
echo ""
#https://www.npmjs.com/package/ios-sim